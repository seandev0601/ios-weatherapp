# WeatherApp UI 設計規範

## 1. 設計哲學與原則

### 1.1 設計哲學

**極簡主義驅動的天氣體驗**

WeatherApp 的設計哲學建立在「資訊優先，美觀輔助」的核心理念上。我們相信最好的設計是讓使用者感受不到設計存在的設計，用戶應該能夠在最短時間內獲取所需的天氣資訊，同時享受愉悅的視覺體驗。

### 1.2 核心設計原則

#### 1.2.1 清晰性 (Clarity)
- **視覺層次明確**：重要資訊使用大字體和高對比度
- **資訊密度適中**：避免資訊過載，每個畫面專注於核心任務
- **意圖清楚**：每個 UI 元素都有明確的功能和意義

#### 1.2.2 一致性 (Consistency)
- **設計語言統一**：整個應用使用一致的色彩、字型、間距
- **互動模式標準化**：相同類型的操作使用相同的互動方式
- **系統整合**：與 iOS 系統設計語言和慣例保持一致

#### 1.2.3 可用性 (Usability)
- **直觀操作**：新用戶能夠在沒有說明的情況下理解和使用
- **容錯設計**：預防錯誤操作，並提供清楚的錯誤回饋
- **無障礙友善**：支援 VoiceOver、動態字型大小等無障礙功能

#### 1.2.4 美觀性 (Aesthetics)
- **視覺愉悅**：使用和諧的色彩搭配和優雅的動畫
- **質感細膩**：注重細節，如陰影、圓角、透明度的使用
- **情感連結**：透過視覺元素傳達天氣的情感和氛圍

## 2. 使用者介面流程設計

### 2.1 主要使用者流程

#### 2.1.1 首次啟動流程

```
應用圖示點擊 → 啟動畫面 → 位置權限請求 → 主天氣頁面
```

**設計要點**：
- **啟動畫面**：簡潔的 App logo 和載入動畫（1-2 秒）
- **權限請求**：清楚說明位置權限的必要性和價值
- **錯誤處理**：若權限被拒絕，提供友善的說明和替代方案

#### 2.1.2 日常使用流程

```
開啟應用 → 查看當前天氣 → 下拉重新整理 / 點擊詳細資訊 → 查看 7 日預報
```

**設計要點**：
- **即時顯示**：應用開啟後立即顯示快取的天氣資訊
- **重新整理**：支援下拉手勢重新整理，提供視覺回饋
- **資訊層級**：主要資訊在首屏，詳細資訊透過點擊或滑動展開

### 2.2 畫面架構設計

#### 2.2.1 主畫面結構

```
┌─────────────────────────────────────┐
│            狀態列 (系統)              │
├─────────────────────────────────────┤
│              位置資訊                │  ← 城市名稱、更新時間
│                                     │
│              當前溫度                │  ← 大字體主溫度
│             天氣狀況圖示              │  ← 動態天氣圖示
│            天氣狀況描述               │  ← 文字描述
│                                     │
│          今日最高/最低溫度             │  ← 次要溫度資訊
│             降雨機率                 │  ← 百分比顯示
│                                     │
│    ┌─────────────────────────────┐    │
│    │        詳細資訊卡片          │    │  ← 可展開的詳細資訊
│    └─────────────────────────────┘    │
│                                     │
│    ┌─────────────────────────────┐    │
│    │        7日天氣預報           │    │  ← 橫向滾動列表
│    └─────────────────────────────┘    │
│                                     │
│           底部安全區域               │
└─────────────────────────────────────┘
```

#### 2.2.2 詳細資訊展開結構

**資訊卡片佈局**：
- **2x3 網格佈局**：濕度、風速、紫外線指數、能見度、氣壓、體感溫度
- **統一卡片設計**：每個指標使用相同大小的卡片
- **圖示 + 數值 + 單位**：清楚的資訊層次

## 3. 視覺設計系統

### 3.1 色彩系統

#### 3.1.1 主色彩 (Primary Colors)

**天空藍 (Sky Blue)**
- 主色：`#007AFF` (iOS 系統藍)
- 深色變體：`#0051D9`
- 淺色變體：`#66B2FF`
- 使用場景：主要按鈕、強調元素、載入指示器

**雲白 (Cloud White)**
- 主色：`#FFFFFF`
- 半透明變體：`#FFFFFF80` (50% 透明度)
- 使用場景：背景、卡片、文字區域

#### 3.1.2 語意色彩 (Semantic Colors)

**功能色彩**：
- **成功綠**：`#34C759` - 資料載入成功、正面狀態
- **警告橘**：`#FF9500` - 注意事項、中等優先級警告
- **錯誤紅**：`#FF3B30` - 錯誤狀態、無法連線
- **中性灰**：`#8E8E93` - 次要資訊、禁用狀態

#### 3.1.3 天氣主題色彩

**動態背景色彩**（根據天氣狀況變化）：
- **晴天**：漸層 `#87CEEB` → `#98D8E8`
- **多雲**：漸層 `#B0C4DE` → `#D3D3D3`
- **雨天**：漸層 `#708090` → `#2F4F4F`
- **夜晚**：漸層 `#191970` → `#000080`
- **雪天**：漸層 `#F0F8FF` → `#E0E6F0`

#### 3.1.4 深色模式適配

**深色模式色彩映射**：
- **背景主色**：`#000000` → `#1C1C1E`
- **次級背景**：`#FFFFFF` → `#2C2C2E`
- **卡片背景**：`#F2F2F7` → `#3A3A3C`
- **主要文字**：`#000000` → `#FFFFFF`
- **次要文字**：`#8E8E93` → `#8E8E93`

### 3.2 字型系統

#### 3.2.1 字型層級

**主要字型**：SF Pro (iOS 系統字型)

**字型階層**：
1. **超大標題**：SF Pro Display, 48pt, Heavy - 主溫度顯示
2. **大標題**：SF Pro Display, 32pt, Bold - 區域標題
3. **標題**：SF Pro Text, 20pt, Semibold - 卡片標題
4. **副標題**：SF Pro Text, 16pt, Medium - 次要資訊
5. **內文**：SF Pro Text, 14pt, Regular - 一般內容
6. **說明文字**：SF Pro Text, 12pt, Regular - 輔助說明
7. **標籤**：SF Pro Text, 10pt, Medium - 小標籤

#### 3.2.2 字型使用規範

**溫度數值字型**：
- 使用等寬數字 (Tabular Numbers)
- 確保數字變化時佈局穩定
- 大溫度值移除小數點，小溫度值保留一位小數

**多語言支援**：
- 支援動態字型大小 (Dynamic Type)
- 自動適配系統無障礙設定
- 中文字型使用 PingFang TC

### 3.3 間距與佈局系統

#### 3.3.1 間距標準

**基礎間距單位**：8pt（基於 iOS 8-point grid system）

**間距階層**：
- **4pt**：極小間距 - 關聯元素間隙
- **8pt**：小間距 - 相關元素分組
- **16pt**：中間距 - 不同區塊分隔
- **24pt**：大間距 - 主要區域分隔
- **32pt**：超大間距 - 頁面主要分區
- **64pt**：特大間距 - 重要內容強調

#### 3.3.2 響應式佈局

**螢幕適配策略**：

**iPhone SE (375pt 寬)**：
- 溫度字型：44pt
- 卡片邊距：16pt
- 單列顯示詳細資訊卡片

**iPhone 標準 (390-414pt 寬)**：
- 溫度字型：48pt
- 卡片邊距：20pt
- 2列顯示詳細資訊卡片

**iPhone Plus/Pro Max (428pt+ 寬)**：
- 溫度字型：52pt
- 卡片邊距：24pt
- 充分利用額外寬度顯示更多資訊

#### 3.3.3 安全區域處理

**適配原則**：
- **頂部安全區域**：狀態列下方保留適當間距
- **底部安全區域**：Home Indicator 上方保留間距
- **左右安全區域**：確保內容不被螢幕邊緣裁切
- **動態適配**：橫向模式時自動調整佈局

### 3.4 圓角與陰影規範

#### 3.4.1 圓角系統

**圓角層級**：
- **2pt**：小元素 - 標籤、按鈕內的小圖示
- **4pt**：按鈕 - 文字按鈕、小型互動元素
- **8pt**：卡片 - 詳細資訊卡片
- **12pt**：大卡片 - 主要內容區塊
- **16pt**：特殊元素 - 溫度顯示背景（可選）

#### 3.4.2 陰影與深度

**陰影層級**：
- **Level 1**：`blur: 4pt, opacity: 0.1` - 輕微陰影，浮動感
- **Level 2**：`blur: 8pt, opacity: 0.15` - 中等陰影，卡片懸浮
- **Level 3**：`blur: 16pt, opacity: 0.2` - 明顯陰影，模態視窗

**光源設定**：
- 假設光源來自上方中央
- 陰影偏移：`Y: 2pt` (Level 1), `Y: 4pt` (Level 2), `Y: 8pt` (Level 3)
- X 軸偏移：`0pt` (垂直投影)

## 4. 互動設計與動效

### 4.1 互動手勢設計

#### 4.1.1 主要手勢

**下拉重新整理 (Pull to Refresh)**：
- **觸發區域**：整個主畫面區域
- **觸發距離**：60pt 下拉距離
- **視覺回饋**：自訂載入動畫，呼應天氣主題
- **完成回饋**：輕微震動 + 載入完成動畫

**垂直滾動**：
- **慣性滾動**：支援自然的慣性滾動
- **橡皮筋效果**：滾動到邊界時的彈性回饋
- **滾動指示器**：半透明滾動條，自動隱藏

**卡片點擊**：
- **觸控區域**：整個卡片區域
- **視覺回饋**：輕微縮放 (0.95x) + 透明度變化
- **音效回饋**：系統點擊音效（可選）

#### 4.1.2 次要手勢

**橫向滑動**：
- **7日預報列表**：水平滾動查看更多天數
- **分頁指示器**：小點指示器顯示當前位置
- **邊界處理**：到達邊界時提供視覺回饋

**長按手勢**：
- **觸控回饋**：Haptic Feedback
- **功能**：顯示詳細資訊或操作選單（未來功能）

### 4.2 動畫與微互動

#### 4.2.1 載入動畫

**應用啟動動畫**：
- **持續時間**：1.5 秒
- **動效**：Logo 淡入 + 輕微縮放
- **緩動函數**：ease-out
- **過渡**：平滑過渡到主畫面

**資料載入動畫**：
- **載入指示器**：自訂天氣主題載入動畫
- **佔位符**：內容載入時的 Skeleton Screen
- **漸進顯示**：資料載入完成後逐項淡入

#### 4.2.2 狀態轉換動畫

**天氣資料更新**：
- **溫度變化**：數字滾動動畫 (CountUp Animation)
- **圖示切換**：淡出舊圖示，淡入新圖示
- **背景色彩**：漸變色彩過渡 (1 秒持續時間)

**卡片展開/收合**：
- **展開動畫**：高度變化 + 透明度變化
- **內容顯示**：展開完成後內容逐項淡入
- **持續時間**：0.3 秒，使用 ease-in-out 緩動

#### 4.2.3 錯誤狀態動畫

**網路錯誤**：
- **搖晃動畫**：錯誤訊息輕微左右搖晃
- **色彩變化**：邊框變為錯誤紅色
- **圖示動畫**：錯誤圖示旋轉淡入

**重試動畫**：
- **按鈕回饋**：點擊縮放 + 載入旋轉
- **狀態恢復**：錯誤狀態平滑過渡回正常狀態

### 4.3 觸覺回饋設計

#### 4.3.1 Haptic Feedback 策略

**成功操作**：
- **輕度震動**：資料重新整理成功
- **通知震動**：重要資訊更新（如天氣警報）

**錯誤操作**：
- **錯誤震動**：網路連線失敗、載入錯誤
- **警告震動**：權限被拒絕、設定錯誤

**選擇操作**：
- **選擇震動**：卡片點擊、按鈕選擇
- **滾動震動**：重要分頁切換（可選）

## 5. 無障礙設計

### 5.1 VoiceOver 支援

#### 5.1.1 語音描述策略

**溫度資訊**：
- 「當前溫度 25 度」而非「25°」
- 「最高溫度 28 度，最低溫度 18 度」
- 「體感溫度 27 度」

**天氣狀況**：
- 「今日天氣晴朗」
- 「降雨機率 30%」
- 「風速每小時 15 公里，東北風」

**操作指引**：
- 「下拉重新整理天氣資訊」
- 「點擊查看詳細天氣資料」
- 「向左滑動查看明日天氣」

#### 5.1.2 導航順序設計

**邏輯順序**：
1. 位置資訊
2. 當前溫度
3. 天氣狀況描述
4. 今日溫度範圍
5. 降雨機率
6. 詳細資訊卡片（依重要性排序）
7. 7日預報列表

### 5.2 視覺輔助功能

#### 5.2.1 動態字型支援

**字型縮放適配**：
- 支援 iOS 系統動態字型大小
- 最大支援 AX5 (Accessibility Extra Large) 大小
- 佈局自動調整以容納較大字型
- 重要資訊優先顯示

#### 5.2.2 高對比度模式

**色彩調整**：
- 文字對比度 ≥ 7:1 (AAA 級標準)
- 重要元素對比度 ≥ 4.5:1 (AA 級標準)
- 深色模式下的對比度優化
- 色盲友善的色彩搭配

**邊框強化**：
- 高對比模式下增加元素邊框
- 焦點指示器更加明顯
- 按鈕和互動區域邊界清晰

### 5.3 運動敏感性考量

#### 5.3.1 減少動態效果

**系統設定整合**：
- 檢測「減少動態效果」系統設定
- 在該模式下減少或移除動畫
- 保留必要的狀態回饋，但簡化動效

**替代方案**：
- 動畫改為淡入淡出
- 移除複雜的轉場效果
- 保持基本的載入指示器

## 6. 元件設計規範

### 6.1 基礎元件庫

#### 6.1.1 按鈕元件

**主要按鈕 (Primary Button)**：
- **尺寸**：最小 44x44pt 觸控區域
- **圓角**：8pt
- **文字**：16pt, Semibold
- **內邊距**：水平 24pt，垂直 12pt
- **狀態**：正常、按下、禁用

**次要按鈕 (Secondary Button)**：
- **樣式**：透明背景 + 邊框
- **邊框**：1pt 實線
- **其他規格**：與主要按鈕相同

**文字按鈕 (Text Button)**：
- **樣式**：純文字，主色彩
- **底線**：點擊時顯示底線
- **最小觸控區域**：44x44pt

#### 6.1.2 卡片元件

**標準資訊卡片**：
- **背景**：半透明白色 (`#FFFFFF80`)
- **圓角**：12pt
- **陰影**：Level 1
- **內邊距**：16pt
- **邊距**：卡片間 8pt

**詳細資訊小卡片**：
- **尺寸**：固定高度 80pt
- **佈局**：圖示 + 標題 + 數值
- **網格**：2列佈局，卡片間 8pt 間隙

#### 6.1.3 列表元件

**7日預報列表項**：
- **高度**：60pt
- **內容**：日期 + 圖示 + 最高/最低溫
- **分隔線**：1pt, 淺灰色
- **選中狀態**：背景色變化

### 6.2 天氣專用元件

#### 6.2.1 溫度顯示元件

**主溫度顯示**：
- **字型**：SF Pro Display, 48pt, Heavy
- **顏色**：動態調整（白天深色，夜晚白色）
- **單位**：18pt, Regular，右上角對齊
- **動畫**：數字變化時的滾動動畫

**次要溫度顯示**：
- **字型**：SF Pro Text, 20pt, Medium
- **佈局**：最高/最低溫橫向排列
- **分隔符**：「/」或「·」

#### 6.2.2 天氣圖示元件

**主天氣圖示**：
- **尺寸**：80x80pt
- **風格**：SF Symbols 或自訂 SVG
- **動畫**：根據天氣狀況添加適當動效
- **色彩**：與背景色協調

**小天氣圖示**：
- **尺寸**：24x24pt（列表中）, 32x32pt（卡片中）
- **一致性**：與主圖示風格保持一致

#### 6.2.3 進度與指示器元件

**載入指示器**：
- **樣式**：自訂旋轉動畫
- **顏色**：主色彩或白色（根據背景調整）
- **尺寸**：24pt（小）, 32pt（中）, 48pt（大）

**進度條**：
- **UV 指數進度條**：漸變色彩表示強度
- **濕度進度條**：藍色漸變
- **圓角**：2pt

## 7. 響應式設計原則

### 7.1 多尺寸適配策略

#### 7.1.1 斷點設計

**iPhone 尺寸分組**：

**小螢幕 (SE 系列)**：
- 寬度：≤ 375pt
- 策略：單列佈局，緊湊間距
- 字型：稍小的字型大小
- 卡片：垂直堆疊

**標準螢幕 (標準/Pro 系列)**：
- 寬度：376-414pt
- 策略：平衡佈局，標準間距
- 字型：標準字型大小
- 卡片：2列網格

**大螢幕 (Plus/Pro Max 系列)**：
- 寬度：≥ 415pt
- 策略：充分利用空間，寬鬆間距
- 字型：稍大的字型大小
- 卡片：2列網格 + 額外邊距

#### 7.1.2 內容優先級

**核心內容**（所有尺寸必顯示）：
- 當前溫度
- 天氣狀況
- 今日最高/最低溫
- 位置資訊

**重要內容**（標準尺寸以上顯示）：
- 降雨機率
- 詳細氣象資訊
- 7日預報

**補充內容**（大螢幕優化顯示）：
- 額外的氣象指標
- 更詳細的圖表
- 增強的視覺效果

### 7.2 橫向模式適配

#### 7.2.1 佈局調整

**橫向佈局策略**：
- **分欄佈局**：左側當前天氣，右側詳細資訊
- **內容重組**：重新安排元素以適應寬螢幕
- **間距調整**：增加左右邊距，避免內容過度拉伸

**橫向模式限制**：
- **暫不支援**：初版專注於直向使用體驗
- **未來功能**：後續版本可考慮完整橫向支援

## 8. 設計 Token 系統

### 8.1 顏色 Token

```
// 主色系
primary-blue: #007AFF
primary-blue-dark: #0051D9
primary-blue-light: #66B2FF

// 背景色系
background-primary: #FFFFFF
background-secondary: #F2F2F7
background-tertiary: #FFFFFF80

// 文字色系
text-primary: #000000
text-secondary: #8E8E93
text-tertiary: #C7C7CC

// 語意色系
success-green: #34C759
warning-orange: #FF9500
error-red: #FF3B30
info-blue: #007AFF
```

### 8.2 間距 Token

```
// 基礎間距
space-xs: 4pt
space-sm: 8pt
space-md: 16pt
space-lg: 24pt
space-xl: 32pt
space-xxl: 64pt

// 特殊間距
safe-area-top: env(safe-area-inset-top)
safe-area-bottom: env(safe-area-inset-bottom)
```

### 8.3 字型 Token

```
// 字型大小
font-size-xs: 10pt
font-size-sm: 12pt
font-size-base: 14pt
font-size-lg: 16pt
font-size-xl: 20pt
font-size-2xl: 24pt
font-size-3xl: 32pt
font-size-4xl: 48pt

// 字重
font-weight-regular: 400
font-weight-medium: 500
font-weight-semibold: 600
font-weight-bold: 700
font-weight-heavy: 800
```

### 8.4 陰影 Token

```
// 陰影層級
shadow-sm: 0 2pt 4pt rgba(0,0,0,0.1)
shadow-md: 0 4pt 8pt rgba(0,0,0,0.15)
shadow-lg: 0 8pt 16pt rgba(0,0,0,0.2)

// 圓角
border-radius-sm: 4pt
border-radius-md: 8pt
border-radius-lg: 12pt
border-radius-xl: 16pt
```

## 9. 品質保證標準

### 9.1 設計品質檢查清單

#### 9.1.1 視覺一致性檢查
- [ ] 色彩使用符合設計系統規範
- [ ] 字型大小和字重正確應用
- [ ] 間距遵循 8pt 網格系統
- [ ] 圓角和陰影使用一致
- [ ] 圖示風格統一

#### 9.1.2 可用性檢查
- [ ] 最小觸控區域 44x44pt
- [ ] 文字對比度符合 WCAG 標準
- [ ] VoiceOver 描述完整準確
- [ ] 動態字型適配正常
- [ ] 減少動態效果模式支援

#### 9.1.3 技術實現檢查
- [ ] 深色模式適配完整
- [ ] 多尺寸螢幕顯示正常
- [ ] 載入和錯誤狀態設計完整
- [ ] 動畫效能良好，無卡頓
- [ ] 記憶體使用合理

### 9.2 設計交付標準

#### 9.2.1 設計檔案組織
- **主設計檔案**：Figma 或 Sketch 格式
- **設計規範文檔**：本文檔持續更新
- **圖示資源**：SVG 和 PNG 雙格式
- **色彩樣本**：Hex 和 RGB 值對照表

#### 9.2.2 開發協作規範
- **標註完整**：所有間距、字型、顏色都有明確標註
- **狀態覆蓋**：包含所有互動狀態的設計
- **邊界情況**：考慮極端內容長度的設計
- **動效說明**：詳細的動畫參數和緩動函數

這份 UI 設計規範將作為 WeatherApp 開發過程中的視覺和互動設計指南，確保最終產品能夠提供一致、美觀且易用的使用者體驗。